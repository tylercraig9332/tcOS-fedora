#!/usr/bin/env bash

# Package source preference order by install kind.
PM_DEFAULT_ORDER_cli=("brew" "os")
PM_DEFAULT_ORDER_gui=("flatpak" "brew" "os")
PM_DEFAULT_ORDER_system=("os")

# OS package backend by host type.
PM_BACKEND_CLASSIC="dnf"
PM_BACKEND_ATOMIC="rpm-ostree"

# Optional package-specific source order overrides (comma-separated).
declare -gA PM_ORDER_OVERRIDE=()
# Chrome is handled as direct RPM workflow in applications/chrome.sh.
PM_ORDER_OVERRIDE[chrome]="os"
PM_ORDER_OVERRIDE[tailscale]="os"
PM_ORDER_OVERRIDE[ydotool]="os"

# Manager-specific package aliases. Key = logical package key used by scripts.
declare -gA PM_ALIAS_BREW=()
declare -gA PM_ALIAS_OS=()
declare -gA PM_ALIAS_FLATPAK=()

# CLI/System tools
PM_ALIAS_BREW[neovim]="neovim"
PM_ALIAS_OS[neovim]="neovim"

PM_ALIAS_BREW[flatpak]="flatpak"
PM_ALIAS_OS[flatpak]="flatpak"

PM_ALIAS_BREW[tailscale]="tailscale"
PM_ALIAS_OS[tailscale]="tailscale"

PM_ALIAS_BREW[docker]="docker"
PM_ALIAS_OS[docker]="docker"

PM_ALIAS_BREW[fuse-libs]="__skip__"
PM_ALIAS_OS[fuse-libs]="fuse-libs"

PM_ALIAS_BREW[git]="git"
PM_ALIAS_OS[git]="git"

PM_ALIAS_BREW[make]="make"
PM_ALIAS_OS[make]="make"

PM_ALIAS_BREW[bat]="bat"
PM_ALIAS_OS[bat]="bat"

PM_ALIAS_BREW[eza]="eza"
PM_ALIAS_OS[eza]="eza"

PM_ALIAS_BREW[lsd]="lsd"
PM_ALIAS_OS[lsd]="lsd"

PM_ALIAS_BREW[curl]="curl"
PM_ALIAS_OS[curl]="curl"

PM_ALIAS_BREW[unzip]="unzip"
PM_ALIAS_OS[unzip]="unzip"

PM_ALIAS_BREW[which]="gnu-which"
PM_ALIAS_OS[which]="which"

PM_ALIAS_BREW[procps-ng]="__skip__"
PM_ALIAS_OS[procps-ng]="procps-ng"

PM_ALIAS_BREW[pipx]="pipx"
PM_ALIAS_OS[pipx]="pipx"

PM_ALIAS_BREW[ydotool]="__skip__"
PM_ALIAS_OS[ydotool]="ydotool"

# GUI apps
PM_ALIAS_FLATPAK[vesktop]="dev.vencord.Vesktop"
PM_ALIAS_FLATPAK[extension-manager]="com.mattjakeman.ExtensionManager"
PM_ALIAS_FLATPAK[bazaar]="io.github.kolunmi.Bazaar"
PM_ALIAS_FLATPAK[gearlever]="it.mijorus.gearlever"
PM_ALIAS_FLATPAK[chromium]="org.chromium.Chromium"
PM_ALIAS_FLATPAK[brave]="com.brave.Browser"
PM_ALIAS_FLATPAK[ghostty]="__skip__"

PM_ALIAS_BREW[chromium]="chromium"
PM_ALIAS_OS[chromium]="chromium"

PM_ALIAS_BREW[brave]="brave-browser"
PM_ALIAS_OS[brave]="brave-browser"

PM_ALIAS_BREW[ghostty]="ghostty"
PM_ALIAS_OS[ghostty]="ghostty"
